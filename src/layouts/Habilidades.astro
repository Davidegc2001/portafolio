---
const { headerStyles, sectionStyles } = Astro.props;
import Progress from "../components/ui/Progress.astro";

import { profile } from "../data/profile";
import astro from "../components/icons/astro.astro";
import django from "../components/icons/django.astro";
import gitIcon from "../components/icons/git.astro";
import tailwindcss from "../components/icons/tailwindcss.astro";
import vue from "../components/icons/vue.astro";
import drupal from "../components/icons/drupal.astro";
import wordpress from "../components/icons/DeviconWordpress.svg";
import postgre from "../components/icons/DeviconPostgresqlWordmark.svg";
import bootstrap from "../components/icons/DeviconBootstrap.svg";

const STACKICONS = {
  astro: {
    name: "Astro",
    class: "hover:bg-gray-300/30",
    classTooltip: "border border-gray-300/30 text-gray-400 backdrop-blur-sm",
    icon: astro,
  },

  django: {
    name: "Django",
    class: "hover:bg-blue-300/30",
    classTooltip: "border border-blue-300/30 text-blue-400 backdrop-blur-sm",
    icon: django,
  },

  git: {
    name: "Git",
    class: "hover:bg-red-300/30",
    classTooltip: "border border-red-300/30 text-red-400 backdrop-blur-sm",
    icon: gitIcon,
  },
  wordpress: {
    name: "Wordpress",
    class: "hover:bg-red-300/30",
    classTooltip: "border border-red-300/30 text-red-400 backdrop-blur-sm",
    icon: wordpress,
  },
  postgre: {
    name: "Postgresql",
    class: "hover:bg-red-300/30",
    classTooltip: "border border-red-300/30 text-red-400 backdrop-blur-sm",
    icon: postgre,
  },
  bootstrap: {
    name: "Bootstrap",
    class: "hover:bg-red-300/30",
    classTooltip: "border border-red-300/30 text-red-400 backdrop-blur-sm",
    icon: bootstrap,
  },

  tailwindcss: {
    name: "Tailwind",
    class: "hover:bg-blue-300/30",
    classTooltip: "border border-blue-300/30 text-blue-400 backdrop-blur-sm",
    icon: tailwindcss,
  },

  vue: {
    name: "Vue",
    class: "hover:bg-green-300/30",
    classTooltip: "border border-green-300/30 text-green-400 backdrop-blur-sm",
    icon: vue,
  },

  Drupal: {
    name: "Drupal",
    class: "hover:bg-gray-300/30",
    classTooltip: "border border-gray-300/30 text-gray-400 backdrop-blur-sm",
    icon: drupal,
  },
};

const STACKS = [
  {
    tags: [
      STACKICONS.django,
      STACKICONS.vue,
      STACKICONS.astro,
      STACKICONS.Drupal,
      STACKICONS.tailwindcss,
      STACKICONS.git,
      STACKICONS.bootstrap,
      STACKICONS.postgre,
      STACKICONS.wordpress,
    ],
  },
];
---

<section id="habilidades" class={sectionStyles}>
  <h3 data-aos="fade-up" data-aos-delay="600" class={headerStyles}>
    Habilidades TÃ©cnicas
  </h3>
  <div class="container flex-col items-center justify-center">
    {
      profile.habilidades.map((skill, index) => (
        <div class="">
          <Progress level={skill.level} tecnology={skill.tecnology} />
        </div>
      ))
    }
    <div
      data-aos="zoom-in"
      class="flex justify-center items-center text-center"
    >
      {
        STACKS.map(({ tags }) => (
          <article class="relative  isolate overflow-hidden py-16 px-4 sm:px-6 lg:px-8">
            <ul class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-9 gap-10 max-w-7xl mx-auto">
              {tags.map((tag) => (
                <li class="group relative flex flex-col items-center">
                  <div
                    class={`absolute top-20 rounded-xl px-4 py-2 opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-3 group-hover:translate-y-0 ${tag.classTooltip} bg-gray-900/90 backdrop-blur-lg border border-gray-700/50 shadow-xl`}
                  >
                    <span class="text-sm font-bold text-white tracking-wider">
                      {tag.name}
                    </span>
                  </div>
                  <div
                    class={`galactic-skill-orb relative w-20 h-20 rounded-3xl flex items-center justify-center p-5 transition-all duration-700 ${tag.class} bg-[conic-gradient(at_top_left,rgba(30,30,30,0.9),rgba(20,20,20,0.95))] border border-gray-700/50 group-hover:border-yellow-400/50`}
                  >
                    <div class="relative z-10 transform group-hover:scale-110 transition-transform duration-500">
                      <tag.icon class="w-9 h-9 text-yellow-400/90 group-hover:text-yellow-300 transition-colors duration-500" />
                    </div>
                    <div class="absolute -inset-2 rounded-3xl border border-yellow-400/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none" />
                  </div>
                </li>
              ))}
            </ul>
          </article>
        ))
      }
    </div>
  </div>
</section>
<style>
  .galactic-skill-orb {
    box-shadow:
      inset 0 4px 12px rgba(0, 0, 0, 0.3),
      0 6px 24px rgba(0, 0, 0, 0.2),
      0 0 0 1px rgba(255, 255, 255, 0.02);
    transition-timing-function: cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  .galactic-skill-orb:hover {
    box-shadow:
      inset 0 4px 20px rgba(234, 179, 8, 0.1),
      0 12px 40px rgba(234, 179, 8, 0.15),
      0 0 0 1px rgba(234, 179, 8, 0.3);
    transform: translateY(-8px) scale(1.05);
  }
</style>
